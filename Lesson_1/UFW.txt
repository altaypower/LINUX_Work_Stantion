КАК ВКЛЮЧИТЬ UFW

Сначала нужно отметить, что в серверной версии Ubuntu UFW по умолчанию включён, а в версии для рабочего стола он отключён.
 Поэтому сначала смотрим состояние фаервола:

$ sudo ufw status

Если он не включён, то его необходимо включить:

$ sudo ufw enable

Затем вы можете снова посмотреть состояние:

$ sudo ufw status

Обратите внимание, что если вы работаете по SSH, то перед тем, как включать брандмауэр, нужно добавить правило, разрешающее работу по SSH, иначе у вас
 не будет доступа к серверу. Подождите с включением до пункта 3.

Перед тем, как мы перейдём к добавлению правил, необходимо указать политику по умолчанию. Какие действия будут применяться к пакетам, если они не подпадают
 под созданные правила ufw. Все входящие пакеты будем отклонять:

$ sudo ufw default deny incoming

А все исходящие разрешим:

$ sudo ufw default allow outgoing

Xтобы открыть порт ufw для SSH, можно добавить одно из этих правил:

$ sudo ufw allow OpenSSH

$ sudo ufw allow 22

$ sudo ufw allow 22/tcp

Первое и второе правила разрешают входящие и исходящие подключения к порту 22 для любого протокола,
 третье правило разрешает входящие и исходящие подключения для порта 22 только по протоколу tcp.
